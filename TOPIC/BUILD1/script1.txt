00003 Jan22'19-16:07:37 main 8.8
TOPIC: ~control 0x19 -1885039400 10 0 2177 simplecontrol.top
" all " ( $_responsecount ) 00! u: ( =8%input<%userfirstline ) ^gambit ( ~introductions ) `00A u: ( < shut_up > ) $shutup = 1 `00A u: ( < talk > ) $shutup = null `00G u: ( \[ callback \] ) Callback seen. `00G u: ( \[ loopback \] ) Loopback seen. `00A u: ( \[ alarm \] ) Alarm seen. `00^ u: ( < loopback test ) \[ loopback=1000 \] Loopback requested. `00^ u: ( < callback test ) \[ callback=1000 \] Callback requested. `00X u: ( < alarm test ) \[ alarm=5000 \] Alarm requested. `0mH u: ( ) $_responsecount = %response ^if 00n( $singleresponse ) 00v{ $_responsecount = 0 } 004 $$currenttopic = %topic ^if 00A( %response == $_responsecount ) 00I{ ^nofail ( TOPIC ^rejoinder ( ) ) } 004 ^if 00R( %length == 0 and %response == $_responsecount ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 00V{ ^nofail ( TOPIC ^respond ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02F{ @8 = ^keywordtopics ( ) ^loop ( -1 ) 01^ { $$topic = ^first ( @8subject ) ^nofail ( TOPIC ^respond ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00T{ ^nofail ( TOPIC ^respond ( ~keywordless ) ) } 004 ^if 00P( %response == $_responsecount and %rand > 50 ) 00T{ ^nofail ( TOPIC ^respond ( ~quibble_all ) ) } 004 ^if 00F( %outputrejoinder or %lastquestion ) 00q{ ^end ( TOPIC ) } 004 ^if 00%( %response == $_responsecount and ^marked ( $$currenttopic ) ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02E{ @8 = ^keywordtopics ( ) ^loop ( -1 ) 01% { $$topic = ^first ( @8subject ) ^nofail ( TOPIC ^gambit ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00U{ ^nofail ( TOPIC ^gambit ( $$currenttopic ) ) } 004 ^if 00A( %response == $_responsecount ) 02C{ @8 = ^gambittopics ( ) ^loop ( -1 ) 01$ { $$topic = ^pick ( @8subject ) ^nofail ( TOPIC ^gambit ( $$topic ) ) ^if 00A( %response != $_responsecount ) 00p{ ^end ( RULE ) } 004 } } 004 ^if 00A( %response == $_responsecount ) 00N{ ^repeat ( ) I don't know what to say. } 004 `000 
TOPIC: ~xpostprocess 0x19 1992104424 1 1 338 simplecontrol.top
" all " 04o t: ( ^query ( direct_v ? chatoutput ? -1 ? @9 ) ) ^loop ( -1 ) 03v { $$tmp = ^last ( @9subject ) ^if 00O( ! %server and %os == windows and ! $shutup ) 00Y{ $$tmp = ^"talk \"$$tmp\" " ^popen ( $$tmp null ) } 004 ^if 00K( ! %server and %os == mac and ! $shutup ) 00U{ $$shellerror = ^system ( "^say \"$$tmp\" " ) } 004 } `000 
TOPIC: ~introductions 0x13 1246202189 5 2 1557 tutorial.top
" all " 01= t:  [ Hello ] [ Hi ] ,welcome to our restaurant. \n we have these kinds of dishes:hot dish,soup,cold dish,and staple food. $kind = 0 $price = 0 `00Y t:  Is this the first time for you to our dining hall? `01i a: ( yes ) welcome, let's do a small survey to understand you better. Are you a muslim? `00W b: ( yes ) $mulism = 1 OK,let's roder some food now. `00J b: ( no ) OK,let's order some food now. `00M a:  back, let me extract your information. `01I u: ( OK ) We have these kinds of dishes: hotdish, soup, colddish and staple food.Which kind do you want to order? `043 u: ( hotdish ) we heve Spicy chicken nuggets 10 //, Twice cooked pork 10//, Braised pork leg 10//, Fried Prawns 10//, Curry Chicken Leg14//, Minced meat eggplant14//, Duck Wings in Brown Sauce 14//, Steamed bass 17//,Saute diced chicken 18//,Smoked fish 19//, bouilli 20. Which one would you like? `01S a: ( [ Spicy chicken nuggets Twice cooked pork Braised pork leg Fried Prawns ] ) Anymore? $kind = 10 it costs $kind , sure? `00N b: ( sure ) how many pieces would you like? `00y c: ( 1 ) $price = $price + 1 `01I b: ( no ) We have these kinds of dishes: hotdish, soup, colddish and staple food.Which kind do you want to order? `01N a: ( [ Curry Chicken Leg Minced meat eggplant Duck Wings in Brown Sauce ] ) Anymore? $kind = 14 it costs $kind , sure? `00N b: ( sure ) how many pieces would you like? `01I b: ( no ) We have these kinds of dishes: hotdish, soup, colddish and staple food.Which kind do you want to order? `00J u: ( !$source ) Let's go on,that's all? `000 
